# Install Python deps
- name: Install dependencies
  run: pip install -r requirements.txt

# Setup Allure CLI (CORRECT)
- name: Setup Allure CLI
  uses: allure-framework/setup-allure@v1

# Run tests
- name: Run Radish tests
  run: |
    radish features --cucumber-json=allure-results/cucumber.json
  env:
    GRID_URL: http://selenium:4444/wd/hub

# Generate report
- name: Generate Allure Report
  if: always()
  run: |
    allure generate allure-results --clean -o allure-report
